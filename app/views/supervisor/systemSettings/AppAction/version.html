#{extends 'common/supervisor.html' /} #{set title:'APP版本设置' /}
<div class="xn_c_contentwarp">
	<div class="xn_c_contentlist">
		#{include "supervisor/systemSettings/common/leftBar.control"/}
		<div class="xn_c_content">
			<div class="xf_content_add">
				#{form @saveVersion(), id:'saveVersion'}
				<div class="xfht_t_j_y_2">
					<!--右上-->
					<div class="xf_ht_obu_fklm">APP版本设置(外部)</div>
					<div class="xf_htgl_jgone">
						<h3 class="xf_htgl_jgtitle">IOS</h3>
						<div class="xf_htgl_jg_tableone xf_htgl_jg_table2">
							<table border="0" cellspacing="0" cellpadding="0"
								class="xf_htgl_jg_tableone_table">
								<tr>
									<td width="328" align="right">当前版本名称：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" disabled="disabled" value="${set?.iosVersion}"></td>
								</tr>
								<tr>
									<td width="328" align="right">当前版本号：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" disabled="disabled" value="${set?.iosCode}"></td>
								</tr>
								<tr>
									<td width="328" align="right">最新发布版本名称：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" id="iosVersion" name="iosVersion"></td>
								</tr>
								<tr>
									<td width="328" align="right">最新发布版本号：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" id="iosCode" name="iosCode"></td>
								</tr>
								<tr>
									<td width="328" align="right">升级信息(默认为上轮)：</td>
									<td><textarea id="iosMsg" name="iosMsg" rows="10" cols="35">${set?.iosMsg}</textarea></td>
								</tr>
							</table>
						</div>
					</div>
					<div class="xf_htgl_jgone">
						<h3 class="xf_htgl_jgtitle">Android</h3>
						<div class="xf_htgl_jg_tableone xf_htgl_jg_table2">
							<table border="0" cellspacing="0" cellpadding="0"
								class="xf_htgl_jg_tableone_table">
								<tr>
									<td width="328" align="right">当前版本名称：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" disabled="disabled" value="${set?.androidVersion}"></td>
								</tr>
								<tr>
									<td width="328" align="right">当前版本号：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" disabled="disabled" value="${set?.androidCode}"></td>
								</tr>
								<tr>
									<td width="328" align="right">最新发布版本名称：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" id="androidVersion" name="androidVersion"></td>
								</tr>
								<tr>
									<td width="328" align="right">最新发布版本号：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" id="androidCode" name="androidCode"></td>
								</tr>
								<tr>
									<td width="328" align="right">升级信息(默认为上轮)：</td>
									<td><textarea id="androidMsg" name="androidMsg" rows="10" cols="35">${set?.androidMsg}</textarea></td>
								</tr>
							</table>
						</div>
					</div>
					
					<!-- 内部APP设置 -->
					<div class="xf_ht_obu_fklm">APP版本设置(内部)</div>
					<div class="xf_htgl_jgone">
						<h3 class="xf_htgl_jgtitle">IOS</h3>
						<div class="xf_htgl_jg_tableone xf_htgl_jg_table2">
							<table border="0" cellspacing="0" cellpadding="0"
								class="xf_htgl_jg_tableone_table">
								<tr>
									<td width="328" align="right">当前版本名称：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" disabled="disabled" value="${set?.iosVersionInner}"></td>
								</tr>
								<tr>
									<td width="328" align="right">当前版本号：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" disabled="disabled" value="${set?.iosCodeInner}"></td>
								</tr>
								<tr>
									<td width="328" align="right">最新发布版本名称：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" id="iosVersionInner" name="iosVersionInner"></td>
								</tr>
								<tr>
									<td width="328" align="right">最新发布版本号：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" id="iosCodeInner" name="iosCodeInner"></td>
								</tr>
								<tr>
									<td width="328" align="right">升级信息(默认为上轮)：</td>
									<td><textarea id="iosMsgInner" name="iosMsgInner" rows="10" cols="35">${set?.iosMsgInner}</textarea></td>
								</tr>
							</table>
						</div>
					</div>
					<div class="xf_htgl_jgone">
						<h3 class="xf_htgl_jgtitle">Android</h3>
						<div class="xf_htgl_jg_tableone xf_htgl_jg_table2">
							<table border="0" cellspacing="0" cellpadding="0"
								class="xf_htgl_jg_tableone_table">
								<tr>
									<td width="328" align="right">当前版本名称：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" disabled="disabled" value="${set?.androidVersionInner}"></td>
								</tr>
								<tr>
									<td width="328" align="right">当前版本号：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" disabled="disabled" value="${set?.androidCodeInner}"></td>
								</tr>
								<tr>
									<td width="328" align="right">最新发布版本名称：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" id="androidVersionInner" name="androidVersionInner"></td>
								</tr>
								<tr>
									<td width="328" align="right">最新发布版本号：</td>
									<td><input class="xfht_zr_input xfht_zr_input_shoping"
										type="text" id="androidCodeInner" name="androidCodeInner"></td>
								</tr>
								<tr>
									<td width="328" align="right">升级信息(默认为上轮)：</td>
									<td><textarea id="androidMsgInner" name="androidMsgInner" rows="10" cols="35">${set?.androidMsgInner}</textarea></td>
								</tr>
							</table>
						</div>
					</div>
					<div class="xf_htgl_jgsix_hyg">
						<input class="xf_ht_tcc_button_ok" type="button" onclick="savePaymentSure();" value="保 存">
					</div>
				</div>
				#{/form}
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	function savePaymentSure() {
		var iosVersion = $.trim($("#iosVersion").val());

		if(iosVersion == ''){
			alert("请输入IOS版本名称!");
			
			return false ;
		}

		var iosCode = $.trim($("#iosCode").val());
		var r = /^\+?[1-9][0-9]*$/;　
		
		if(iosCode == '' || !r.test(iosCode)){
			alert("请输入正确的IOS版本号!");
			
			return false ;
		}
		
		var iosMsg = $.trim($("#iosMsg").val());

		if(iosMsg == ''){
			alert("请输入IOS升级信息!");
			
			return false ;
		}

		var androidVersion = $.trim($("#androidVersion").val());

		if(androidVersion == ''){
			alert("请输入android版本名称!");
			
			return false ;
		}

		var androidCode = $.trim($("#androidCode").val());

		if(androidCode == '' || !r.test(androidCode)){
			alert("请输入正确的android版本号!");
			
			return false ;
		}
		
		var androidMsg = $.trim($("#androidMsg").val());

		if(androidMsg == ''){
			alert("请输入android升级信息!");
			
			return false ;
		}
		
		
		//内部APP相关
		var iosVersionInner = $.trim($("#iosVersionInner").val());
		if(iosVersionInner == ''){
			alert("请输入内部 IOS版本名称!");
			
			return false ;
		}
		var iosCodeInner = $.trim($("#iosCodeInner").val());
		if(iosCodeInner == '' || !r.test(iosCodeInner)){
			alert("请输入正确的内部IOS版本号!");
			
			return false ;
		}
		
		var iosMsgInner = $.trim($("#iosMsgInner").val());

		if(iosMsgInner == ''){
			alert("请输入内部IOS升级信息!");
			
			return false ;
		}

		var androidVersionInner = $.trim($("#androidVersionInner").val());

		if(androidVersionInner == ''){
			alert("请输入内部android版本名称!");
			
			return false ;
		}

		var androidCodeInner = $.trim($("#androidCodeInner").val());

		if(androidCodeInner == '' || !r.test(androidCodeInner)){
			alert("请输入正确的内部android版本号!");
			
			return false ;
		}
		
		var androidMsgInner = $.trim($("#androidMsgInner").val());

		if(androidMsgInner == ''){
			alert("请输入内部android升级信息!");
			
			return false ;
		}
		
		$("#saveVersion").submit();
	}

	$(function() {
    /* 高亮显示 */
       showHighLight(9,9,24);
  });
</script>